<h2 class="story-title">

<a class="story-title-link" ng-click="openUrl(story.url, story.objectID)">{{story.title}}</a>
</h2>

<div class="story-url">{{story.url.split('/')[2]}}</div>

<div class="points-bar" style="width:{{(story.created_at | fromNow).split(' ')[1] === 'hours' ? Math.round(((story.points - 1) / Math.pow(((story.created_at | fromNow).split(' ')[0] + 2), 1.8)) * 1000) * .55 : (story.created_at | fromNow).split(' ')[1] === 'minutes' ? Math.round(((story.points - 1) / Math.pow((9 + 2), 1.8)) * 1000) * .55 : Math.round(((story.points - 1) / Math.pow(((story.created_at | fromNow).split(' ')[0] * 19 + 2), 1.8)) * 1000) * .55}}px;"></div>

<div class="score-container">
  {{story.points}} points | {{story.created_at | fromNow}} &rarr; Score: <span class="score">{{(story.created_at | fromNow).split(' ')[1] === 'hours' ? Math.round(((story.points - 1) / Math.pow(((story.created_at | fromNow).split(' ')[0] + 2), 1.8)) * 1000) : (story.created_at | fromNow).split(' ')[1] === 'minutes' ? Math.round(((story.points - 1) / Math.pow((9 + 2), 1.8)) * 1000) : Math.round(((story.points - 1) / Math.pow(((story.created_at | fromNow).split(' ')[0] * 19 + 2), 1.8)) * 1000)}}</span><br>
</div>

<div class="story-author">by {{story.author}}</div>

<div class="follow-author" ng-show="currentlyFollowing.indexOf(story.author) === -1" ng-click="addUser(story.author)">Subscribe to {{story.author}}</div>

<!-- <a href="https://news.ycombinator.com/item?id={{story.objectID}}" target="_top" class="story-comments"> -->
<a class="story-comments" href="#/app/comments/{{story.objectID}}" ng-click="loadComments(story.objectID)">
  {{story.num_comments ? story.num_comments + ' comments' : 'discuss'}}
</a>